<!DOCTYPE html>
<html>
<head>
    <!-- [[! Document Settings ]] -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- [[! Page Meta ]] -->
    <title>Into the darkness</title>
    <meta name="description" content="Tale of a Tiger - As above, so below. As within, so without." />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="/favicon.ico" >

    <!-- [[! Styles'n'Scripts ]] -->
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css"
          href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <!-- [[! Ghost outputs important style and meta data with this tag ]] -->
        <link rel="canonical" href="/" />
    <meta name="referrer" content="origin" />
    <link rel="next" href="/page2/" />

    <meta property="og:site_name" content="Tale of a Tiger" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Tale of a Tiger" />
    <meta property="og:description" content="Developer Chronicles" />
    <meta property="og:url" content="/" />
    <meta property="og:image" content="/assets/images/site-cover.jpg" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Tale of a Tiger" />
    <meta name="twitter:description" content="Developer Chronicles" />
    <meta name="twitter:url" content="/" />
    <meta name="twitter:image:src" content="/assets/images/site-cover.jpg" />

    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Website",
    "publisher": "Tale of a Tiger",
    "url": "/",
    "image": "/assets/images/site-cover.jpg",
    "description": "Developer Chronicles"
}
    </script>

    <meta name="generator" content="Jekyll 3.0.0" />
    <link rel="alternate" type="application/rss+xml" title="Tale of a Tiger" href="/rss.xml" />


</head>
<body class="post-template nav-closed">

    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        <li class="nav-home " role="presentation"><a href="/">Home</a></li>
        <li class="nav-about " role="presentation"><a href="/stuff-i-do">Stuff I do</a></li>
        <!-- <li class="nav-fables " role="presentation"><a href="/tag/fables">Fables</a></li>
        <li class="nav-speeches " role="presentation"><a href="/tag/speeches">Speeches</a></li>
        <li class="nav-fiction " role="presentation"><a href="/tag/fiction">Fiction</a></li> -->
        <li class="nav-author " role="presentation"><a href="/author/tk">About Me</a></li>
    </ul>
    <!-- <a class="subscribe-button icon-feed" href="/rss.xml">Subscribe</a> -->
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        <!-- [[! Everything else gets inserted here ]] -->
        <!-- < default -->

<!-- The comment above "< default" means - insert everything in this file into -->
    <!-- the [body] of the default.hbs template, which contains our header/footer. -->

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<header class="main-header post-head " style="background-image: url(/assets/images/post_covers/darkness_cover.jpg) ">
    <nav class="main-nav  overlay  clearfix">
        <a class="blog-logo" href="/"><img src="/assets/images/tk-logo.png" alt="Blog Logo" /></a>
        
            <a class="menu-button icon-menu" href="#"><span class="word">Menu</span></a>
        
    </nav>
</header>

<main class="content" role="main">

    <article class="post">

        <header class="post-header">
            <h1 class="post-title">Into the darkness</h1>
            <section class="post-meta">
            <!-- <a href='/'>Sidhant Sharma</a> -->
            <time class="post-date" datetime="2015-06-29">June 29, 2015</time>
                <!-- [[tags prefix=" on "]] -->
                
                 | on
                
                    
                       <a href='/tag/Firefox'>Firefox</a>,
                    
                
                    
                       <a href='/tag/Extension'>Extension</a>
                    
                
                
            </section>
        </header>

        <section class="post-content">

            <p>Being a software developer usually means long hours of working on computer, staring at the screen as if the meaning of life was hidden somewhere in those lines of code. But developer or not, looking at bright screens for longer durations is very straining to the eyes for everyone. So I prefer setting my IDE’s theme to Darkula, or a similar dark theme, to save my eyes from being scorched. And have to admit, it’s very cozy. The nice and dark background with dim-florescent text soothes the eye like the cool brook water to the lonely traveler.</p>

<p>All looks fine so far, but then suddenly, there is this function I need to use, but I can’t remember it’s correct usage. Or a weird error I haven’t seen before, and I can’t figure it out. And the only way out? Google. This is where the problem arises. The Internet has somehow developed a fondness towards bright white/ off-white backgrounds. Every typical website has a pale white background and text in black, links in blue. Regular Internet standards, can’t complain. But for someone who is just switching from a dark IDE screen to the browser, this transition can torch the eyes. (You’re more likely to understand this if you too like dark themes for your IDEs, or work a lot with Photoshop or Illustrator.)<br />
And then one day, I decided I’ve had enough. I <em>needed</em> something to turn those glaring websites dark. Thus began a quest for browser extensions. I use Firefox as my default browser, <a href="http://addons.mozilla.org/">AMO</a> my only hope. Surprisingly enough, I couldn’t find an add-on that would do what I needed done. There were some that made an overlay on the webpage and displayed only the main content, doing away with distracting images and links. But nah, this ain’t what I want.</p>

<p>So I figured, “Hey, if there isn’t a good add-on out there to do this, why not make one for myself”. And in this moment, the idea of Owl was born. I began with Mozilla’s blog post <a href="https://blog.mozilla.org/addons/2014/06/05/how-to-develop-firefox-extension/">“How to develop a Firefox extension”</a> and realized that this mini-project needs JavaScript. And I don’t know JS. Yet.</p>

<p>First things first, I took a Udacity course on <a href="https://www.udacity.com/course/javascript-basics--ud804">JavaScript Basics</a> (nice course, too easy). Now that I had a basic idea of js, it was time to code.<br />
I guess I’ll take a slight detour from the story and get you familiar with the Firefox add-on development process. First, you need to get the <a href="https://developer.mozilla.org/en-US/Add-ons/SDK/Tutorials/Installation">SDK</a>. Installation is simple, and the documentation fantastic. Just follow the link above and you’d be ready for dev even before you know it. (Psst.. One more thing, might wanna take a look at <a href="https://developer.mozilla.org/en-US/Add-ons/SDK/Tutorials/Getting_Started_(jpm)">jpm</a>. )<br />
Installed and ready? Great. Let’s get our hand dirty with some code. To create a new add-on skeleton (booooo….skeleton…boooo..), pull up terminal and do</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>mkdir hellworld-addon
</code></pre>
</div>
<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span><span class="nb">cd </span>helloworld-addon
</code></pre>
</div>
<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>jpm init              <span class="c"># initialized a new add-on skeleton</span>
</code></pre>
</div>

<p>Now JPM will ask you (a lot of) questions about the add-on you’re making. Put in whatever you want, or just keep hitting Enter for defaults. You can always change them later in the <code class="highlighter-rouge">package.json</code>.</p>

<p>Tada, a new add-on has been created. But it doesn’t do much yet.<br />
Anyways, back to the story. I too followed these steps and created skeleton for Owl add-on. Now comes the cool part. Code.</p>

<p>I need a piece of code that would change the background of the whole webpage to some dark color I want, and change the text and link colors accordingly. For this, I came with my first amateur solution. We know that HTML webpages contain div-elements. Sometimes, lots of them. What if we iterate through all the div-elements of the webpage, and set a dark background for each of them. The code looked something like this:</p>

<pre><code class="language-JavaScript">var divs = document.getElementsByTagName("div");

for(var i = 0; i &lt; divs.length; i++){

   divs[i].style.backgroundColor = 'black';

}
</code></pre>

<p>To compile and run an add-on, we simple execute</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>jpm run
</code></pre>
</div>

<p>If you’re on Linux (or Mac OS X), the run operation may fail saying</p>

<div class="highlighter-rouge"><pre class="highlight"><code>JPM <span class="o">[</span>error] Specify a Firefox binary to use with the <span class="sb">`</span>-b<span class="sb">`</span> flag.
JPM <span class="o">[</span>error] Error: spawn ENOENT
</code></pre>
</div>

<p>This happens when jpm doesn’t know where Firefox is installed. To specify it the location of the Firefox binary, use the <code class="highlighter-rouge">-b</code> flag as:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>jpm run -b &lt;path/to/file&gt;
</code></pre>
</div>

<p>The results were, well, bad. It worked well on Google homepage. But that was about it. Everywhere else, one or the other element was left out. This wasn’t working. At all.<br />
So, back to the thinking chair. While surfing through the Add-on SDK documentation, I discovered that it was also possible to add CSS dynamically to webpages. So I dug a little deeper and figured out a way to add a seemingly-alright CSS to the webpages when they load. This time, the results were better. But still, no. Something wasn’t working. (Actually, a lot it wasn’t). Sometimes there’d be no change at all, sometimes the whole webpage would turn black. So Plan B failed too.</p>

<p>Nevertheless, the need to protect my (rather our) eyes from the glaring white webpages was strong enough to keep me looking. A week later, I stumbled upon <a href="https://developer.mozilla.org/en/docs/Using_the_Stylesheet_Service">this</a>. Doesn’t look like much, but it is actually a way to attach style sheets to a webpages without disturbing other content. So, there I was trying to make this work. Thanks a good example I found online (sorry, lost the link), I wrote (copied) a CSS style sheet that could modify the webpage’s theme to what I want. (The final CSS I decided on was <a href="https://github.com/TigerKid001/Owl/blob/master/data/owlTheme.css">this</a>). Compile and run. Fingers crossed.</p>

<p>Great Scott! It works! Though a couple of glitches, (some icons/images disappeared) but it was waaay better that any of the previous attempts. “That’s it!”, I said to myself. Now, all I need is an icon for this extension, and it’s ready to be published. Quick google search of ‘owl cartoon’ gave a cute looking owl with big-bright eyes. I knew this is the one. Got the image, quickly edited with GIMP, made grayscale versions and done! There we have it.<br />
To publish an extension, we are needed to bundle it up in .xpi file. Again, terminal to the rescue:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>jpm xpi
</code></pre>
</div>

<p>And there we have the xpi. Now, simply drag and drop this xpi into Firefox and it’ll install automatically. There you go, a ready-to-use homebrew add-on.</p>

<p>Having made the add-on, I decided to publish it online, to the AMO. You know, maybe there are other people who need this? So I went ahead and published it <a href="https://addons.mozilla.org/en-US/firefox/addon/owl/">here</a>.<br />
Not even a week passed since I put it up online, when I got this email from <a href="http://www.ilovefreesoftware.com/">I <span>♥</span> Free Software</a> (a nice tech blog) that they have used my add-on and they really liked it :). They even sent me a badge to show off!</p>

<p><img src="/assets/images/post_images/ilfs_review_badge.png" alt="I love Free Software 5-Star badge" /></p>

<p>Is this amazing or what! Shout out to <a href="http://www.ilovefreesoftware.com/">I <span>♥</span> Free Software</a> for their awesome review.</p>

<p>Signing off now,<br />
Enjoy!</p>

<p>PS: The source code of the add-on is available on <a href="https://github.com/TigerKid001/Owl">Github</a> under MIT License. Feel free to play with it :)</p>


        </section>

        <footer class="post-footer">

            <!-- Everything inside the #author tags pulls data from the author -->
            <!-- #author-->

            
            <figure class="author-image">
                <a class="img" href="/author/tk" style="background-image: url(/assets/images/tk-logo-128.png)"><span class="hidden">'s Picture</span></a>
            </figure>
            

            <section class="author">
                <h4><a href="/author/tk">Sidhant Sharma</a></h4>

                
                    <p> Developer. Student. Gamer. Reader. Learner.</p>
                
                <div class="author-meta">
    <span class="author-link">
        <a href="https://www.facebook.com/sidhant.sharma.012" class="iconlink-lg"> <i class="social-fb fa fa-facebook-official"></i> </a>
        <a href="https://www.twitter.com/TigerKid001" class="social-tw iconlink-lg"> <i class="fa fa-twitter"></i> </a>
        <a href="https://plus.google.com/103325962048453263615/about" class="social-gp iconlink-lg"> <i class="fa fa-google-plus"></i> </a>
        <a href="https://in.linkedin.com/in/sidhantsharma12" class="social-li iconlink-lg"> <i class="fa fa-linkedin-square"></i> </a>
        <a href="https://github.com/tigerkid001" class="social-gh iconlink-lg"> <i class="fa fa-github"></i> </a>
        <a href="mailto:dev@sidhant.io" class="social-email iconlink-lg"> <i class="fa fa-envelope-o"></i> </a>
    </span>
</div>

            </section>

            <!-- /author  -->

            <section class="share">
                <h4>Share this post</h4>
                <a class="social-tw" href="http://twitter.com/share?text=Into the darkness&amp;url=http://sidhant.io/into-the-darkness"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <i class="fa fa-twitter fa-lg"></i>
                    <span class="hidden">Twitter</span>
                </a>
                <a class="social-fb" href="https://www.facebook.com/sharer/sharer.php?u=http://sidhant.io/into-the-darkness"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <i class="fa fa-facebook-official fa-lg"></i>
                    <span class="hidden">Facebook</span>
                </a>
                <a class="social-gp" href="https://plus.google.com/share?url=http://sidhant.io/into-the-darkness"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <i class="fa fa-google-plus fa-lg"></i>
                    <span class="hidden">Google+</span>
                </a>
            </section>

            <!-- Add Disqus Comments -->
            
                <div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */

    var disqus_config = function () {
        this.page.url = 'http://sidhant.io/into-the-darkness';
        this.page.identifier = 'sidhant.io/into-the-darkness';
    };

    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document,
            s = d.createElement('script');

        s.src = '//sidhant.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

            

        </footer>

    </article>

</main>

<aside class="read-next">

    <!-- [[! prev_post ]] -->
    
    <!-- [[! /prev_post ]] -->
    <!-- [[! next_post ]] -->
    
        <a class="read-next-story" style="background-image: url(/assets/images/post_covers/blink_cover.jpg)" href="/bling-bling-blink">
            <section class="post">
                <h2>Bling Bling Blink</h2>
                <p>Hey, do you use Google Chrome most of the time? All the time? Good for...</p>
            </section>
        </a>
    
    <!-- [[! /next_post ]] -->
</aside>

<!-- /post -->


        <footer class="site-footer clearfix">
          <section class="copyright"><a href="/author/tk">Sidhant Sharma</a> &copy; 2016</section>
          <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> using <a href="https://github.com/biomadeira/jasper">Jasper</a></section>
        </footer>
    </div>
    <!-- [[! Ghost outputs important scripts and data with this tag ]] -->
    <script type="text/javascript" src="/assets/js/jquery-3.1.0.min.js"></script>
    <!-- [[! The main JavaScript file for Casper ]] -->
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/index.js"></script>

    <!-- Add Google Analytics  -->
    
    <!-- Google Analytics Tracking code -->
     <script>
	    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	    ga('create', 'UA-74123332-1', 'auto');
	    ga('send', 'pageview');

     </script>


</body>
</html>
